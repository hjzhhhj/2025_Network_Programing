<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>동적 테이블</title>
</head>
<body>

<script>
    // 테이블을 생성하는 함수 정의
    function generateTable() {
        // 사용자로부터 입력 받기 (문자열로 받음)
        const input = prompt("생성할 셀 개수를 입력하세요 (양의 정수):");

        // 입력값을 정수로 변환
        const num = parseInt(input);

        // 입력값이 숫자가 아니거나 0 이하일 경우 오류 메시지 출력 후 종료
        if (isNaN(num) || num <= 0) {
            document.write("<p style='color:red;'>올바른 양의 정수를 입력해주세요.</p>");
            return; // 함수 종료
        }

        // 정사각형에 가까운 열 개수 구하기 (제곱근 올림)
        let cols = Math.ceil(Math.sqrt(num));

        // 전체 셀 수를 열 개수로 나누어 행 개수 계산 (모자란 칸 생길 수 있으므로 올림)
        let rows = Math.ceil(num / cols);

        // 테이블의 시작 태그 출력 (border="1"로 테두리 적용)
        document.write("<table border='1'>");

        let count = 1; // 현재 셀 번호를 저장할 변수

        // 행 반복
        for (let r = 0; r < rows; r++) {
            document.write("<tr>"); // 행 시작

            // 열 반복
            for (let c = 0; c < cols; c++) {
                // 셀 개수가 남아 있으면 숫자를 출력
                if (count <= num) {
                    document.write("<td>" + count + "</td>");
                    count++; // 다음 숫자로 증가
                } else {
                    // 셀 개수를 초과한 경우 빈 셀 출력
                    document.write("<td></td>");
                }
            }

            document.write("</tr>"); // 행 끝
        }

        // 테이블 종료 태그 출력
        document.write("</table>");
    }

    // 함수 실행
    generateTable();
</script>

</body>
</html>
